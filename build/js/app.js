(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

module.exports = ['$http', 'TMDB_API', 'EVT', function ($http, TMDB_API, EVT) {

	var searchResult = [];
	var totalPages = -1;
	var currPage = 1;

	var url = {
		searchMovie: TMDB_API.url + 'search/movie',
		searchMulti: TMDB_API.url + 'search/multi'
	};

	function req(searchObj) {

		if (currPage > totalPages && totalPages !== -1) {
			// emit event end of page
			EVT.EOP.emit();
			return;
		}

		$http({
			method: 'GET',
			url: url.searchMovie,
			params: {
				api_key: TMDB_API.key,
				query: searchObj.query,
				page: currPage
			}
		}).success(function (res) {
			// emit event search success
			searchResult = searchResult.concat(removeNoPosterItems(res.results));
			totalPages = res.total_pages;
			currPage++;
			console.log(res);
		}).error(function (err) {
			// emit event search err
			console.error(err);
		});
	}

	function removeNoPosterItems(results) {
		return results.filter(function (item) {
			return !!item.poster_path;
		});
	}

	function getRes() {
		return searchResult;
	}

	function clearSearch() {
		// emit event clearSeach
		searchResult = [];
		totalPages = -1;
		currPage = 1;
	}

	return {
		req: req,
		clearSearch: clearSearch,
		getRes: getRes
	};
}];

},{}],2:[function(require,module,exports){
'use strict';

module.exports = ['$rootScope', function ($rootScope) {

	var EVT = {

		EOP: {
			listen: function listen(cb) {
				$rootScope.$on('EOP', cb);
			},
			emit: function emit() {
				$rootScope.$broadcast('EOP');
			}
		}

	};

	return EVT;
}];

},{}],3:[function(require,module,exports){
'use strict';

angular.module('app', []).constant('TMDB_API', {
	key: '374c0342a6406dfe0aeb3de2ea042c59',
	url: 'http://api.themoviedb.org/3/'
}).controller('mainCtrl', require('./main.ctrl.js')).directive('movieItem', require('./mvItem.dir.js')).factory('TMDb', require('./TMDb.fac.js')).factory('EVT', require('./events.fac.js'));

},{"./TMDb.fac.js":1,"./events.fac.js":2,"./main.ctrl.js":4,"./mvItem.dir.js":5}],4:[function(require,module,exports){
'use strict';

module.exports = ['$scope', 'TMDb', 'EVT', function ($scope, TMDb, EVT) {

	var vm = this;
	vm.search = {
		query: ''
	};
	vm.movieItems = null;

	$scope.$watch(TMDb.getRes, function (res) {
		vm.movieItems = res;
	}, true);

	var prevQuery = '';
	vm.search = function () {
		if (vm.search.query === '') return;
		if (prevQuery !== vm.search.query) {
			TMDb.clearSearch();
			prevQuery = vm.search.query;
		}
		TMDb.req(vm.search);
	};

	// DEBUG
	window.SCOPE = $scope;
	vm.TMDb = TMDb;

	EVT.EOP.listen(function () {
		console.log('recieved EOP event!');
	});
}];

},{}],5:[function(require,module,exports){
'use strict';

module.exports = ['TMDb', function (TMDb) {

	function ctrl($scope, $element) {}

	return {
		restrict: 'E',
		replace: true,
		scope: {
			movieItem: '='
		},
		controller: ctrl,
		controllerAs: 'mvItem',
		templateUrl: 'src/mvItem.html'
	};
}];

},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJFOi94YW1wcC9odGRvY3MvYXVjcy13ZWJkZXYtdGVybS1wcm9qZWN0L3NyYy9UTURiLmZhYy5qcyIsIkU6L3hhbXBwL2h0ZG9jcy9hdWNzLXdlYmRldi10ZXJtLXByb2plY3Qvc3JjL2V2ZW50cy5mYWMuanMiLCJFOi94YW1wcC9odGRvY3MvYXVjcy13ZWJkZXYtdGVybS1wcm9qZWN0L3NyYy9pbmRleC5qcyIsIkU6L3hhbXBwL2h0ZG9jcy9hdWNzLXdlYmRldi10ZXJtLXByb2plY3Qvc3JjL21haW4uY3RybC5qcyIsIkU6L3hhbXBwL2h0ZG9jcy9hdWNzLXdlYmRldi10ZXJtLXByb2plY3Qvc3JjL212SXRlbS5kaXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFDN0MsVUFBVyxLQUFLLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRzs7QUFFakMsS0FBSSxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLEtBQUksVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3BCLEtBQUksUUFBUSxHQUFHLENBQUMsQ0FBQzs7QUFFakIsS0FBSSxHQUFHLEdBQUc7QUFDVCxhQUFXLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxjQUFjO0FBQzFDLGFBQVcsRUFBRSxRQUFRLENBQUMsR0FBRyxHQUFHLGNBQWM7RUFDMUMsQ0FBQzs7QUFFRixVQUFTLEdBQUcsQ0FBRSxTQUFTLEVBQUc7O0FBRXpCLE1BQUssUUFBUSxHQUFHLFVBQVUsSUFBSSxVQUFVLEtBQUssQ0FBQyxDQUFDLEVBQUc7O0FBRWpELE1BQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDZixVQUFPO0dBQ1A7O0FBRUQsT0FBSyxDQUFFO0FBQ04sU0FBTSxFQUFF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ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0gWyAnJGh0dHAnLCAnVE1EQl9BUEknLCAnRVZUJyxcclxuZnVuY3Rpb24gKCAkaHR0cCwgVE1EQl9BUEksIEVWVCApIHtcclxuXHJcblx0dmFyIHNlYXJjaFJlc3VsdCA9IFtdO1xyXG5cdHZhciB0b3RhbFBhZ2VzID0gLTE7XHJcblx0dmFyIGN1cnJQYWdlID0gMTtcclxuXHJcblx0dmFyIHVybCA9IHtcclxuXHRcdHNlYXJjaE1vdmllOiBUTURCX0FQSS51cmwgKyAnc2VhcmNoL21vdmllJyxcclxuXHRcdHNlYXJjaE11bHRpOiBUTURCX0FQSS51cmwgKyAnc2VhcmNoL211bHRpJ1xyXG5cdH07XHJcblxyXG5cdGZ1bmN0aW9uIHJlcSggc2VhcmNoT2JqICkge1xyXG5cclxuXHRcdGlmICggY3VyclBhZ2UgPiB0b3RhbFBhZ2VzICYmIHRvdGFsUGFnZXMgIT09IC0xICkge1xyXG5cdFx0XHQvLyBlbWl0IGV2ZW50IGVuZCBvZiBwYWdlXHJcblx0XHRcdEVWVC5FT1AuZW1pdCgpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0JGh0dHAoIHtcclxuXHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0dXJsOiB1cmwuc2VhcmNoTW92aWUsXHJcblx0XHRcdHBhcmFtczp7XHJcblx0XHRcdFx0YXBpX2tleTogVE1EQl9BUEkua2V5LFxyXG5cdFx0XHRcdHF1ZXJ5OiBzZWFyY2hPYmoucXVlcnksXHJcblx0XHRcdFx0cGFnZTogY3VyclBhZ2VcclxuXHRcdFx0fVxyXG5cdFx0fSApLnN1Y2Nlc3MoIGZ1bmN0aW9uICggcmVzICkge1xyXG5cdFx0XHQvLyBlbWl0IGV2ZW50IHNlYXJjaCBzdWNjZXNzXHJcblx0XHRcdHNlYXJjaFJlc3VsdCA9IHNlYXJjaFJlc3VsdC5jb25jYXQoIHJlbW92ZU5vUG9zdGVySXRlbXMoIHJlcy5yZXN1bHRzICkgKTtcclxuXHRcdFx0dG90YWxQYWdlcyA9IHJlcy50b3RhbF9wYWdlcztcclxuXHRcdFx0Y3VyclBhZ2UgKys7XHJcblx0XHRcdGNvbnNvbGUubG9nKCByZXMgKTtcclxuXHRcdH0gKS5lcnJvciggZnVuY3Rpb24gKCBlcnIgKSB7XHJcblx0XHRcdC8vIGVtaXQgZXZlbnQgc2VhcmNoIGVyclxyXG5cdFx0XHRjb25zb2xlLmVycm9yKCBlcnIgKTtcclxuXHRcdH0gKTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW1vdmVOb1Bvc3Rlckl0ZW1zKCByZXN1bHRzICkge1xyXG5cdFx0cmV0dXJuIHJlc3VsdHMuZmlsdGVyKCBmdW5jdGlvbiAoIGl0ZW0gKSB7XHJcblx0XHRcdHJldHVybiAhIWl0ZW0ucG9zdGVyX3BhdGg7XHJcblx0XHR9ICk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRSZXMoKSB7XHJcblx0XHRyZXR1cm4gc2VhcmNoUmVzdWx0O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY2xlYXJTZWFyY2goKSB7XHJcblx0XHQvLyBlbWl0IGV2ZW50IGNsZWFyU2VhY2hcclxuXHRcdHNlYXJjaFJlc3VsdCA9IFtdO1xyXG5cdFx0dG90YWxQYWdlcyA9IC0xO1xyXG5cdFx0Y3VyclBhZ2UgPSAxO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHJlcSxcclxuXHRcdGNsZWFyU2VhcmNoLFxyXG5cdFx0Z2V0UmVzXHJcblx0fTtcclxuXHJcbn0gXTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBbICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCAkcm9vdFNjb3BlICkge1xyXG5cclxuXHR2YXIgRVZUID0ge1xyXG5cclxuXHRcdEVPUDoge1xyXG5cdFx0XHRsaXN0ZW46IGZ1bmN0aW9uICggY2IgKSB7ICRyb290U2NvcGUuJG9uKCAnRU9QJywgY2IgKTsgfSxcclxuXHRcdFx0ZW1pdDogZnVuY3Rpb24gKCkgeyAkcm9vdFNjb3BlLiRicm9hZGNhc3QoICdFT1AnICk7IH1cclxuXHRcdH0sXHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBFVlQ7XHJcblxyXG59IF07XHJcbiIsImFuZ3VsYXIubW9kdWxlKCAnYXBwJywgW10gKVxyXG5cclxuLmNvbnN0YW50KCAnVE1EQl9BUEknLCB7XHJcblx0a2V5OiAnMzc0YzAzNDJhNjQwNmRmZTBhZWIzZGUyZWEwNDJjNTknLFxyXG5cdHVybDogJ2h0dHA6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy8nXHJcbn0gKVxyXG5cclxuLmNvbnRyb2xsZXIoICdtYWluQ3RybCcsIHJlcXVpcmUoICcuL21haW4uY3RybC5qcycgKSApXHJcbi5kaXJlY3RpdmUoICdtb3ZpZUl0ZW0nLCByZXF1aXJlKCAnLi9tdkl0ZW0uZGlyLmpzJyApIClcclxuLmZhY3RvcnkoICdUTURiJywgcmVxdWlyZSggJy4vVE1EYi5mYWMuanMnICkgKVxyXG4uZmFjdG9yeSggJ0VWVCcsIHJlcXVpcmUoICcuL2V2ZW50cy5mYWMuanMnICkgKVxyXG47XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gWyAnJHNjb3BlJywgJ1RNRGInLCAnRVZUJyxcclxuZnVuY3Rpb24gKCAkc2NvcGUsIFRNRGIsIEVWVCApICB7XHJcblxyXG5cdHZhciB2bSA9IHRoaXM7XHJcblx0dm0uc2VhcmNoID0ge1xyXG5cdFx0cXVlcnk6ICcnLFxyXG5cdH07XHJcblx0dm0ubW92aWVJdGVtcyA9IG51bGw7XHJcblxyXG5cdCRzY29wZS4kd2F0Y2goIFRNRGIuZ2V0UmVzLCBmdW5jdGlvbiAoIHJlcyApIHtcclxuXHRcdHZtLm1vdmllSXRlbXMgPSByZXM7XHJcblx0fSwgdHJ1ZSApO1xyXG5cclxuXHR2YXIgcHJldlF1ZXJ5ID0gJyc7XHJcblx0dm0uc2VhcmNoID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCB2bS5zZWFyY2gucXVlcnkgPT09ICcnICkgcmV0dXJuO1xyXG5cdFx0aWYgKCBwcmV2UXVlcnkgIT09IHZtLnNlYXJjaC5xdWVyeSApIHtcclxuXHRcdFx0VE1EYi5jbGVhclNlYXJjaCgpO1xyXG5cdFx0XHRwcmV2UXVlcnkgPSB2bS5zZWFyY2gucXVlcnk7XHJcblx0XHR9XHJcblx0XHRUTURiLnJlcSggdm0uc2VhcmNoICk7XHJcblx0fTtcclxuXHJcblx0Ly8gREVCVUdcclxuXHR3aW5kb3cuU0NPUEUgPSAkc2NvcGU7XHJcblx0dm0uVE1EYiA9IFRNRGI7XHJcblxyXG5cdEVWVC5FT1AubGlzdGVuKCBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zb2xlLmxvZyggJ3JlY2lldmVkIEVPUCBldmVudCEnICk7XHJcblx0fSApO1xyXG5cclxufSBdO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IFsgJ1RNRGInLCBmdW5jdGlvbiAoIFRNRGIgKSB7XHJcblxyXG5cdGZ1bmN0aW9uIGN0cmwoICRzY29wZSwgJGVsZW1lbnQgKSB7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6ICdFJyxcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge1xyXG5cdFx0XHRtb3ZpZUl0ZW06ICc9J1xyXG5cdFx0fSxcclxuXHRcdGNvbnRyb2xsZXI6IGN0cmwsXHJcblx0XHRjb250cm9sbGVyQXM6ICdtdkl0ZW0nLFxyXG5cdFx0dGVtcGxhdGVVcmw6ICdzcmMvbXZJdGVtLmh0bWwnXHJcblx0fTtcclxuXHJcbn0gXTtcclxuIl19
