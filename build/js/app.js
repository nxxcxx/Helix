(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

module.exports = ['$http', 'TMDB_API', 'EVT', function ($http, TMDB_API, EVT) {

	var searchResult = [];
	var totalPages = -1;
	var currPage = 1;

	var url = {
		searchMovie: TMDB_API.url + 'search/movie',
		searchMulti: TMDB_API.url + 'search/multi'
	};

	function req(searchObj) {

		if (currPage > totalPages && totalPages !== -1) {
			// emit event end of page
			EVT.EOP.emit();
			return;
		}

		$http({
			method: 'GET',
			url: url.searchMovie,
			params: {
				api_key: TMDB_API.key,
				query: searchObj.query,
				page: currPage
			}
		}).success(function (res) {
			// emit event search success
			searchResult = searchResult.concat(removeNoPosterItems(res.results));
			totalPages = res.total_pages;
			currPage++;
			console.log(res);
		}).error(function (err) {
			// emit event search err
			console.error(err);
		});
	}

	function removeNoPosterItems(results) {
		return results.filter(function (item) {
			return !!item.poster_path;
		});
	}

	function getRes() {
		return searchResult;
	}

	function clearSearch() {
		// emit event clearSeach
		searchResult = [];
		totalPages = -1;
		currPage = 1;
	}

	return {
		req: req,
		clearSearch: clearSearch,
		getRes: getRes
	};
}];

},{}],2:[function(require,module,exports){
'use strict';

module.exports = ['$rootScope', function ($rootScope) {

	var EVT = {

		EOP: {
			listen: function listen(cb) {
				$rootScope.$on('EOP', cb);
			},
			emit: function emit() {
				$rootScope.$broadcast('EOP');
			}
		}

	};

	return EVT;
}];

},{}],3:[function(require,module,exports){
'use strict';

angular.module('app', []).constant('TMDB_API', {
	key: '374c0342a6406dfe0aeb3de2ea042c59',
	url: 'http://api.themoviedb.org/3/'
}).controller('mainCtrl', require('./main.ctrl.js')).directive('movieItem', require('./mvItem.dir.js')).factory('TMDb', require('./TMDb.fac.js')).factory('EVT', require('./events.fac.js'));

require('./indexGL.js');

},{"./TMDb.fac.js":1,"./events.fac.js":2,"./indexGL.js":4,"./main.ctrl.js":5,"./mvItem.dir.js":6}],4:[function(require,module,exports){
(function (global){
// 'use strict';

'use strict';

var CANVAS, STATS;
var SCENE, CAMERA, CAMERA_CTRL, RENDERER;
var WIDTH = window.innerWidth;
var HEIGHT = window.innerHeight;
var PIXEL_RATIO = window.devicePixelRatio || 1;
var SCREEN_RATIO = WIDTH / HEIGHT;

// ---- Settings
var SCENE_SETTINGS = {
	bgColor: 2368557,
	enableGridHelper: true,
	enableAxisHelper: true
};

// ---- Scene
CANVAS = document.getElementById('canvas-container');
SCENE = new THREE.Scene();
// ---- Camera
CAMERA = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 10, 100000);
// CAMERA orbit control
CAMERA_CTRL = new THREE.OrbitControls(CAMERA, CANVAS);
CAMERA_CTRL.object.position.z = 600;
CAMERA_CTRL.update();

// ---- Renderer
// RENDERER = new THREE.WebGLRenderer( {
// 	antialias: true,
// 	alpha: true
// } );

RENDERER = new THREE.CSS3DRenderer();

RENDERER.setSize(WIDTH, HEIGHT);
// RENDERER.setPixelRatio( PIXEL_RATIO );
// RENDERER.setClearColor( SCENE_SETTINGS.bgColor, 1 );
// RENDERER.autoClear = false;
CANVAS.appendChild(RENDERER.domElement);

// ---- Stats
STATS = new Stats();
CANVAS.appendChild(STATS.domElement);

//source: main.js
function main() {}

global.makeHelixPosters = function (posterObjectMulti) {
	var vector = new THREE.Vector3();
	var allPosters = new THREE.Object3D();
	for (var i = 0; i < posterObjectMulti.length; i++) {
		var elem = document.createElement('div');
		elem.className = 'posterElem';
		elem.style.backgroundImage = "url('http://image.tmdb.org/t/p/w154/" + posterObjectMulti[i].poster_path + "')";
		elem.style.width = '150px';
		elem.style.height = '230px';
		// elem.textContent = 'TEST TEXT';
		var css3dObj = new THREE.CSS3DObject(elem);

		var phi = i * 0.175 + Math.PI;
		var rr = 900;
		css3dObj.position.x = -rr * Math.sin(phi);
		css3dObj.position.y = -(i * 8) + 200;
		css3dObj.position.z = rr * Math.cos(phi);

		vector.x = -css3dObj.position.x * 2;
		vector.y = css3dObj.position.y;
		vector.z = -css3dObj.position.z * 2;
		// vector.multiplyScalar( -1 );

		css3dObj.lookAt(vector);

		allPosters.add(css3dObj);
	}
	SCENE.add(allPosters);
};

//source: run.js
function update() {}

// ----  draw loop
function run() {

	requestAnimationFrame(run);
	// RENDERER.clear();
	update();
	RENDERER.render(SCENE, CAMERA);
	STATS.update();
}

//source: events.js
window.addEventListener('keypress', function (event) {
	switch (event.keyCode) {
		case 65:
			/*A*/
			break;
	}
});

window.addEventListener('resize', debounce(onWindowResize, 50));

function onWindowResize() {

	WIDTH = window.innerWidth;
	HEIGHT = window.innerHeight;

	PIXEL_RATIO = window.devicePixelRatio || 1;
	SCREEN_RATIO = WIDTH / HEIGHT;

	CAMERA.aspect = SCREEN_RATIO;
	CAMERA.updateProjectionMatrix();

	RENDERER.setSize(WIDTH, HEIGHT);
	RENDERER.setPixelRatio(PIXEL_RATIO);
}

//source: util.js
function debounce(func, wait, immediate) {
	var _this = this,
	    _arguments = arguments;

	var timeout;
	return function () {

		var context = _this,
		    args = _arguments;
		var later = function later() {

			timeout = null;
			if (!immediate) func.apply(context, args);
		};
		var callNow = immediate && !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) func.apply(context, args);
	};
}

main();
run();

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],5:[function(require,module,exports){
'use strict';

module.exports = ['$scope', 'TMDb', 'EVT', function ($scope, TMDb, EVT) {

	var vm = this;
	vm.search = {
		query: ''
	};
	vm.movieItems = null;

	$scope.$watch(TMDb.getRes, function (res) {
		vm.movieItems = res;
	}, true);

	var prevQuery = '';
	vm.search = function () {
		if (vm.search.query === '') return;
		if (prevQuery !== vm.search.query) {
			TMDb.clearSearch();
			prevQuery = vm.search.query;
		}
		TMDb.req(vm.search);
	};

	// DEBUG
	window.SCOPE = $scope;
	vm.TMDb = TMDb;

	EVT.EOP.listen(function () {
		console.log('recieved EOP event!');
	});
}];

},{}],6:[function(require,module,exports){
'use strict';

module.exports = ['TMDb', function (TMDb) {

	function ctrl($scope, $element) {}

	return {
		restrict: 'E',
		replace: true,
		scope: {
			movieItem: '='
		},
		controller: ctrl,
		controllerAs: 'mvItem',
		templateUrl: 'src/mvItem.html'
	};
}];

},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJFOi94YW1wcC9odGRvY3MvYXVjcy13ZWJkZXYtdGVybS1wcm9qZWN0L3NyYy9UTURiLmZhYy5qcyIsIkU6L3hhbXBwL2h0ZG9jcy9hdWNzLXdlYmRldi10ZXJtLXByb2plY3Qvc3JjL2V2ZW50cy5mYWMuanMiLCJFOi94YW1wcC9odGRvY3MvYXVjcy13ZWJkZXYtdGVybS1wcm9qZWN0L3NyYy9pbmRleC5qcyIsIkU6L3hhbXBwL2h0ZG9jcy9hdWNzLXdlYmRldi10ZXJtLXByb2plY3Qvc3JjL2luZGV4R0wuanMiLCJFOi94YW1wcC9odGRvY3MvYXVjcy13ZWJkZXYtdGVybS1wcm9qZWN0L3NyYy9tYWluLmN0cmwuanMiLCJFOi94YW1wcC9odGRvY3MvYXVjcy13ZWJkZXYtdGVybS1wcm9qZWN0L3NyYy9tdkl0ZW0uZGlyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxNQUFNLENBQUMsT0FBTyxHQUFHLENBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQzdDLFVBQVcsS0FBSyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUc7O0FBRWpDLEtBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQztBQUN0QixLQUFJLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNwQixLQUFJLFFBQVEsR0FBRyxDQUFDLENBQUM7O0FBRWpCLEtBQUksR0FBRyxHQUFHO0FBQ1QsYUFBVyxFQUFFLFFBQVEsQ0FBQyxHQUFHLEdBQUcsY0FBYztBQUMxQyxhQUFXLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxjQUFjO0VBQzFDLENBQUM7O0FBRUYsVUFBUyxHQUFHLENBQUUsU0FBUyxFQUFHOztBQUV6QixNQUFLLFFBQVEsR0FBRyxVQUFVLElBQUksVUFBVSxLQUFLLENBQUMsQ0FBQyxFQUFHOztBQUVqRCxNQUFHLENBQUMsR0FBRyxDQUFDLElB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QUFFLGlCQUFpQjtFQUM5QixDQUFDO0NBRUYsQ0FBRSxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0gWyAnJGh0dHAnLCAnVE1EQl9BUEknLCAnRVZUJyxcclxuZnVuY3Rpb24gKCAkaHR0cCwgVE1EQl9BUEksIEVWVCApIHtcclxuXHJcblx0dmFyIHNlYXJjaFJlc3VsdCA9IFtdO1xyXG5cdHZhciB0b3RhbFBhZ2VzID0gLTE7XHJcblx0dmFyIGN1cnJQYWdlID0gMTtcclxuXHJcblx0dmFyIHVybCA9IHtcclxuXHRcdHNlYXJjaE1vdmllOiBUTURCX0FQSS51cmwgKyAnc2VhcmNoL21vdmllJyxcclxuXHRcdHNlYXJjaE11bHRpOiBUTURCX0FQSS51cmwgKyAnc2VhcmNoL211bHRpJ1xyXG5cdH07XHJcblxyXG5cdGZ1bmN0aW9uIHJlcSggc2VhcmNoT2JqICkge1xyXG5cclxuXHRcdGlmICggY3VyclBhZ2UgPiB0b3RhbFBhZ2VzICYmIHRvdGFsUGFnZXMgIT09IC0xICkge1xyXG5cdFx0XHQvLyBlbWl0IGV2ZW50IGVuZCBvZiBwYWdlXHJcblx0XHRcdEVWVC5FT1AuZW1pdCgpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0JGh0dHAoIHtcclxuXHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0dXJsOiB1cmwuc2VhcmNoTW92aWUsXHJcblx0XHRcdHBhcmFtczp7XHJcblx0XHRcdFx0YXBpX2tleTogVE1EQl9BUEkua2V5LFxyXG5cdFx0XHRcdHF1ZXJ5OiBzZWFyY2hPYmoucXVlcnksXHJcblx0XHRcdFx0cGFnZTogY3VyclBhZ2VcclxuXHRcdFx0fVxyXG5cdFx0fSApLnN1Y2Nlc3MoIGZ1bmN0aW9uICggcmVzICkge1xyXG5cdFx0XHQvLyBlbWl0IGV2ZW50IHNlYXJjaCBzdWNjZXNzXHJcblx0XHRcdHNlYXJjaFJlc3VsdCA9IHNlYXJjaFJlc3VsdC5jb25jYXQoIHJlbW92ZU5vUG9zdGVySXRlbXMoIHJlcy5yZXN1bHRzICkgKTtcclxuXHRcdFx0dG90YWxQYWdlcyA9IHJlcy50b3RhbF9wYWdlcztcclxuXHRcdFx0Y3VyclBhZ2UgKys7XHJcblx0XHRcdGNvbnNvbGUubG9nKCByZXMgKTtcclxuXHRcdH0gKS5lcnJvciggZnVuY3Rpb24gKCBlcnIgKSB7XHJcblx0XHRcdC8vIGVtaXQgZXZlbnQgc2VhcmNoIGVyclxyXG5cdFx0XHRjb25zb2xlLmVycm9yKCBlcnIgKTtcclxuXHRcdH0gKTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW1vdmVOb1Bvc3Rlckl0ZW1zKCByZXN1bHRzICkge1xyXG5cdFx0cmV0dXJuIHJlc3VsdHMuZmlsdGVyKCBmdW5jdGlvbiAoIGl0ZW0gKSB7XHJcblx0XHRcdHJldHVybiAhIWl0ZW0ucG9zdGVyX3BhdGg7XHJcblx0XHR9ICk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRSZXMoKSB7XHJcblx0XHRyZXR1cm4gc2VhcmNoUmVzdWx0O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY2xlYXJTZWFyY2goKSB7XHJcblx0XHQvLyBlbWl0IGV2ZW50IGNsZWFyU2VhY2hcclxuXHRcdHNlYXJjaFJlc3VsdCA9IFtdO1xyXG5cdFx0dG90YWxQYWdlcyA9IC0xO1xyXG5cdFx0Y3VyclBhZ2UgPSAxO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHJlcSxcclxuXHRcdGNsZWFyU2VhcmNoLFxyXG5cdFx0Z2V0UmVzXHJcblx0fTtcclxuXHJcbn0gXTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBbICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCAkcm9vdFNjb3BlICkge1xyXG5cclxuXHR2YXIgRVZUID0ge1xyXG5cclxuXHRcdEVPUDoge1xyXG5cdFx0XHRsaXN0ZW46IGZ1bmN0aW9uICggY2IgKSB7ICRyb290U2NvcGUuJG9uKCAnRU9QJywgY2IgKTsgfSxcclxuXHRcdFx0ZW1pdDogZnVuY3Rpb24gKCkgeyAkcm9vdFNjb3BlLiRicm9hZGNhc3QoICdFT1AnICk7IH1cclxuXHRcdH0sXHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBFVlQ7XHJcblxyXG59IF07XHJcbiIsImFuZ3VsYXIubW9kdWxlKCAnYXBwJywgW10gKVxyXG5cclxuLmNvbnN0YW50KCAnVE1EQl9BUEknLCB7XHJcblx0a2V5OiAnMzc0YzAzNDJhNjQwNmRmZTBhZWIzZGUyZWEwNDJjNTknLFxyXG5cdHVybDogJ2h0dHA6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy8nXHJcbn0gKVxyXG5cclxuLmNvbnRyb2xsZXIoICdtYWluQ3RybCcsIHJlcXVpcmUoICcuL21haW4uY3RybC5qcycgKSApXHJcbi5kaXJlY3RpdmUoICdtb3ZpZUl0ZW0nLCByZXF1aXJlKCAnLi9tdkl0ZW0uZGlyLmpzJyApIClcclxuLmZhY3RvcnkoICdUTURiJywgcmVxdWlyZSggJy4vVE1EYi5mYWMuanMnICkgKVxyXG4uZmFjdG9yeSggJ0VWVCcsIHJlcXVpcmUoICcuL2V2ZW50cy5mYWMuanMnICkgKVxyXG47XHJcblxyXG5yZXF1aXJlKCAnLi9pbmRleEdMLmpzJyApO1xyXG4iLCIvLyAndXNlIHN0cmljdCc7XHJcblxyXG52YXIgQ0FOVkFTLCBTVEFUUztcbnZhciBTQ0VORSwgQ0FNRVJBLCBDQU1FUkFfQ1RSTCwgUkVOREVSRVI7XG52YXIgV0lEVEggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbnZhciBIRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG52YXIgUElYRUxfUkFUSU8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xudmFyIFNDUkVFTl9SQVRJTyA9IFdJRFRIIC8gSEVJR0hUO1xuXG4vLyAtLS0tIFNldHRpbmdzXG52YXIgU0NFTkVfU0VUVElOR1MgPSB7XG5cdGJnQ29sb3I6IDIzNjg1NTcsXG5cdGVuYWJsZUdyaWRIZWxwZXI6IHRydWUsXG5cdGVuYWJsZUF4aXNIZWxwZXI6IHRydWVcbn07XG5cbi8vIC0tLS0gU2NlbmVcbkNBTlZBUyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnY2FudmFzLWNvbnRhaW5lcicgKTtcblNDRU5FID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcbi8vIC0tLS0gQ2FtZXJhXG5DQU1FUkEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoIDQwLCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMTAsIDEwMDAwMCApO1xyXG4vLyBDQU1FUkEgb3JiaXQgY29udHJvbFxuQ0FNRVJBX0NUUkwgPSBuZXcgVEhSRUUuT3JiaXRDb250cm9scyggQ0FNRVJBLCBDQU5WQVMgKTtcbkNBTUVSQV9DVFJMLm9iamVjdC5wb3NpdGlvbi56ID0gNjAwO1xuQ0FNRVJBX0NUUkwudXBkYXRlKCk7XG5cbi8vIC0tLS0gUmVuZGVyZXJcbi8vIFJFTkRFUkVSID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoIHtcclxuLy8gXHRhbnRpYWxpYXM6IHRydWUsXHJcbi8vIFx0YWxwaGE6IHRydWVcclxuLy8gfSApO1xyXG5cclxuXHJcblJFTkRFUkVSID0gbmV3IFRIUkVFLkNTUzNEUmVuZGVyZXIoKTtcclxuXHJcblJFTkRFUkVSLnNldFNpemUoIFdJRFRILCBIRUlHSFQgKTtcclxuLy8gUkVOREVSRVIuc2V0UGl4ZWxSYXRpbyggUElYRUxfUkFUSU8gKTtcclxuLy8gUkVOREVSRVIuc2V0Q2xlYXJDb2xvciggU0NFTkVfU0VUVElOR1MuYmdDb2xvciwgMSApO1xyXG4vLyBSRU5ERVJFUi5hdXRvQ2xlYXIgPSBmYWxzZTtcclxuQ0FOVkFTLmFwcGVuZENoaWxkKCBSRU5ERVJFUi5kb21FbGVtZW50ICk7XG5cbi8vIC0tLS0gU3RhdHNcblNUQVRTID0gbmV3IFN0YXRzKCk7XG5DQU5WQVMuYXBwZW5kQ2hpbGQoIFNUQVRTLmRvbUVsZW1lbnQgKTtcblxuLy9zb3VyY2U6IG1haW4uanNcbmZ1bmN0aW9uIG1haW4oKSB7XG5cclxufVxyXG5cclxuZ2xvYmFsLm1ha2VIZWxpeFBvc3RlcnMgPSBmdW5jdGlvbiggcG9zdGVyT2JqZWN0TXVsdGkgKSB7XHJcblx0dmFyIHZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcblx0dmFyIGFsbFBvc3RlcnMgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuXHRmb3IgKCB2YXIgaSA9IDAgOyBpIDwgcG9zdGVyT2JqZWN0TXVsdGkubGVuZ3RoOyBpICsrICkge1xyXG5cdFx0dmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xyXG5cdFx0ZWxlbS5jbGFzc05hbWUgPSAncG9zdGVyRWxlbSc7XHJcblx0XHRlbGVtLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCdodHRwOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3cxNTQvXCIgKyBwb3N0ZXJPYmplY3RNdWx0aVtpXS5wb3N0ZXJfcGF0aCArIFwiJylcIjtcclxuXHRcdGVsZW0uc3R5bGUud2lkdGggPSAnMTUwcHgnO1xyXG5cdFx0ZWxlbS5zdHlsZS5oZWlnaHQgPSAnMjMwcHgnO1xyXG5cdFx0Ly8gZWxlbS50ZXh0Q29udGVudCA9ICdURVNUIFRFWFQnO1xyXG5cdFx0dmFyIGNzczNkT2JqID0gbmV3IFRIUkVFLkNTUzNET2JqZWN0KCBlbGVtICk7XHJcblxyXG5cdFx0dmFyIHBoaSA9IGkgKiAwLjE3NSArIE1hdGguUEk7XHJcblx0XHR2YXIgcnIgPSA5MDA7XHJcblx0XHRjc3MzZE9iai5wb3NpdGlvbi54ID0gLXJyICogTWF0aC5zaW4oIHBoaSApO1xyXG5cdFx0Y3NzM2RPYmoucG9zaXRpb24ueSA9IC0oIGkgKiA4ICkgKyAyMDA7XHJcblx0XHRjc3MzZE9iai5wb3NpdGlvbi56ID0gcnIgKiBNYXRoLmNvcyggcGhpICk7XHJcblxyXG5cdFx0dmVjdG9yLnggPSAtY3NzM2RPYmoucG9zaXRpb24ueCAqIDI7XHJcblx0XHR2ZWN0b3IueSA9IGNzczNkT2JqLnBvc2l0aW9uLnk7XHJcblx0XHR2ZWN0b3IueiA9IC1jc3MzZE9iai5wb3NpdGlvbi56ICogMjtcclxuXHRcdC8vIHZlY3Rvci5tdWx0aXBseVNjYWxhciggLTEgKTtcclxuXHJcblx0XHRjc3MzZE9iai5sb29rQXQoIHZlY3RvciApO1xyXG5cclxuXHRcdGFsbFBvc3RlcnMuYWRkKCBjc3MzZE9iaiApO1xyXG5cdH1cclxuXHRTQ0VORS5hZGQoIGFsbFBvc3RlcnMgKTtcclxufTtcclxuXHJcbi8vc291cmNlOiBydW4uanNcbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxufVxuXG4vLyAtLS0tICBkcmF3IGxvb3BcbmZ1bmN0aW9uIHJ1bigpIHtcblxuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHJ1biApO1xuXHQvLyBSRU5ERVJFUi5jbGVhcigpO1xyXG5cdHVwZGF0ZSgpO1xuXHRSRU5ERVJFUi5yZW5kZXIoIFNDRU5FLCBDQU1FUkEgKTtcclxuXHRTVEFUUy51cGRhdGUoKTtcclxuXHRcclxufVxuXG4vL3NvdXJjZTogZXZlbnRzLmpzXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleXByZXNzJywgZnVuY3Rpb24gKCBldmVudCApIHtcclxuXHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xyXG5cdFx0Y2FzZSA2NTovKkEqL1xuXHRcdFx0YnJlYWs7XHJcblx0fVxufSApO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIGRlYm91bmNlKCBvbldpbmRvd1Jlc2l6ZSwgNTAgKSApO1xuXG5mdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcblxuXHRXSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRIRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cblx0UElYRUxfUkFUSU8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuXHRTQ1JFRU5fUkFUSU8gPSBXSURUSCAvIEhFSUdIVDtcblxuXHRDQU1FUkEuYXNwZWN0ID0gU0NSRUVOX1JBVElPO1xuXHRDQU1FUkEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG5cdFJFTkRFUkVSLnNldFNpemUoIFdJRFRILCBIRUlHSFQgKTtcblx0UkVOREVSRVIuc2V0UGl4ZWxSYXRpbyggUElYRUxfUkFUSU8gKTtcbn1cblxuLy9zb3VyY2U6IHV0aWwuanNcbmZ1bmN0aW9uIGRlYm91bmNlKCBmdW5jLCB3YWl0LCBpbW1lZGlhdGUgKSB7XG5cdHZhciBfdGhpcyA9IHRoaXMsXG5cdFx0X2FyZ3VtZW50cyA9IGFyZ3VtZW50cztcblxuXHR2YXIgdGltZW91dDtcblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBjb250ZXh0ID0gX3RoaXMsXG5cdFx0XHRhcmdzID0gX2FyZ3VtZW50cztcblx0XHR2YXIgbGF0ZXIgPSBmdW5jdGlvbiBsYXRlcigpIHtcblxuXHRcdFx0dGltZW91dCA9IG51bGw7XG5cdFx0XHRpZiAoICFpbW1lZGlhdGUgKSBmdW5jLmFwcGx5KCBjb250ZXh0LCBhcmdzICk7XG5cdFx0fTtcblx0XHR2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcblx0XHRjbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR0aW1lb3V0ID0gc2V0VGltZW91dCggbGF0ZXIsIHdhaXQgKTtcblx0XHRpZiAoIGNhbGxOb3cgKSBmdW5jLmFwcGx5KCBjb250ZXh0LCBhcmdzICk7XG5cdH07XG59XHJcblxyXG5tYWluKCk7XHJcbnJ1bigpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IFsgJyRzY29wZScsICdUTURiJywgJ0VWVCcsXHJcbmZ1bmN0aW9uICggJHNjb3BlLCBUTURiLCBFVlQgKSAge1xyXG5cclxuXHR2YXIgdm0gPSB0aGlzO1xyXG5cdHZtLnNlYXJjaCA9IHtcclxuXHRcdHF1ZXJ5OiAnJyxcclxuXHR9O1xyXG5cdHZtLm1vdmllSXRlbXMgPSBudWxsO1xyXG5cclxuXHQkc2NvcGUuJHdhdGNoKCBUTURiLmdldFJlcywgZnVuY3Rpb24gKCByZXMgKSB7XHJcblx0XHR2bS5tb3ZpZUl0ZW1zID0gcmVzO1xyXG5cdH0sIHRydWUgKTtcclxuXHJcblx0dmFyIHByZXZRdWVyeSA9ICcnO1xyXG5cdHZtLnNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICggdm0uc2VhcmNoLnF1ZXJ5ID09PSAnJyApIHJldHVybjtcclxuXHRcdGlmICggcHJldlF1ZXJ5ICE9PSB2bS5zZWFyY2gucXVlcnkgKSB7XHJcblx0XHRcdFRNRGIuY2xlYXJTZWFyY2goKTtcclxuXHRcdFx0cHJldlF1ZXJ5ID0gdm0uc2VhcmNoLnF1ZXJ5O1xyXG5cdFx0fVxyXG5cdFx0VE1EYi5yZXEoIHZtLnNlYXJjaCApO1xyXG5cdH07XHJcblxyXG5cdC8vIERFQlVHXHJcblx0d2luZG93LlNDT1BFID0gJHNjb3BlO1xyXG5cdHZtLlRNRGIgPSBUTURiO1xyXG5cclxuXHRFVlQuRU9QLmxpc3RlbiggZnVuY3Rpb24gKCkge1xyXG5cdFx0Y29uc29sZS5sb2coICdyZWNpZXZlZCBFT1AgZXZlbnQhJyApO1xyXG5cdH0gKTtcclxuXHJcbn0gXTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBbICdUTURiJywgZnVuY3Rpb24gKCBUTURiICkge1xyXG5cclxuXHRmdW5jdGlvbiBjdHJsKCAkc2NvcGUsICRlbGVtZW50ICkge1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0c2NvcGU6IHtcclxuXHRcdFx0bW92aWVJdGVtOiAnPSdcclxuXHRcdH0sXHJcblx0XHRjb250cm9sbGVyOiBjdHJsLFxyXG5cdFx0Y29udHJvbGxlckFzOiAnbXZJdGVtJyxcclxuXHRcdHRlbXBsYXRlVXJsOiAnc3JjL212SXRlbS5odG1sJ1xyXG5cdH07XHJcblxyXG59IF07XHJcbiJdfQ==
